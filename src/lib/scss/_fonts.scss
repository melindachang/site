@use '$lib/scss/_utilities';

@use 'sass:map';
@use 'sass:string';

/////// Libre Caslon Condensed ///////

@use '@fontsource/libre-caslon-condensed';

@import url('https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap');

/////// LOCAL MIXIN ///////

$font-weights: (
  400: 'Regular',
  500: 'Medium',
  600: 'Semibold',
  700: 'Bold',
);

@mixin font-face($font-name, $weight: 400, $style: regular) {
  $style-path: '';

  @if $style == italic {
    $style-path: 'Italic';
  }

  $path: utilities.str-replace(string.to-lower-case($font-name), ' ', '_') + '/' +
    utilities.str-replace($font-name, ' ', '') + '-' + map.get($font-weights, $weight) +
    $style-path;

  @font-face {
    font-family: $font-name;
    src: url('$lib/assets/fonts/' + $path + '.woff2') format('woff2');
    src: url('$lib/assets/fonts/' + $path + '.woff') format('woff');
    font-weight: $weight;
    font-style: $style;
  }
}

/////// Commit Mono ////////

@include font-face('Commit Mono', 400);
@include font-face('Commit Mono', 400, italic);

@include font-face('Commit Mono', 700);
@include font-face('Commit Mono', 700, italic);

/////// Tiempos Text ////////

@each $weight, $name in $font-weights {
  @include font-face('Tiempos Text', $weight);
  @include font-face('Tiempos Text', $weight, italic);
}
